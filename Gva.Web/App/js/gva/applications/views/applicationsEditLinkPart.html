<div class="tab-content">
  <div class="panel panel-default">
    <div class="panel-heading"><strong l10n-text="applications.edit.linkFile.title"></strong></div>
    <div class="well-sm panel-body ">

      <div class="row">
        <div class="form-group col-sm-4 col-md-4">
          <label class="control-label" l10n-text="applications.edit.linkFile.documentType"></label>
          <sc-nomenclature ng-model="docPartType" name="docPartType" alias="'documentParts'"></sc-nomenclature>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-sm-4 col-sm-offset-5 col-sm-4">
          <sc-button name="searchBtn" btn-click="search()" text="applications.edit.linkFile.search" class="btn btn-primary"></sc-button>
          <sc-button name="cancelBtn" btn-click="cancel()" text="applications.edit.linkFile.cancel" class="btn btn-default" icon="glyphicon-arrow-left"></sc-button>
        </div>
      </div>

      <div ng-if="showDocumentId && docPartType.alias === 'documentId'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.documentType.name" title="persons.documentIdSearch.docTypeId">
          </sc-column>
          <sc-column data="part.documentNumber" title="persons.documentIdSearch.documentNumber" width="150px">
          </sc-column>
          <sc-column data="part.documentDateValidFrom" title="persons.documentIdSearch.documentDateValidFrom" width="100px" type="date">
          </sc-column>
          <sc-column data="part.documentDateValidTo" title="persons.documentIdSearch.documentDateValidTo" width="100px" type="date">
          </sc-column>
          <sc-column data="part.documentPublisher" title="persons.documentIdSearch.publisher" width="100px">
          </sc-column>
          <sc-column data="part.valid.name" title="persons.documentIdSearch.valid" width="50px">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.documentIdSearch.bookPageNumber" width="50px">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.documentIdSearch.pageCount" width="50px">
          </sc-column>
          <sc-column sortable="false" title="persons.documentIdSearch.file" width="30px">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentEducation && docPartType.alias === 'education'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.documentNumber" title="persons.documentEducationSearch.documentNumber">
          </sc-column>
          <sc-column data="part.completionDate" title="persons.documentEducationSearch.completionDate" type="date">
          </sc-column>
          <sc-column data="part.speciality" title="persons.documentEducationSearch.speciality">
          </sc-column>
          <sc-column data="part.school.name" title="persons.documentEducationSearch.school">
          </sc-column>
          <sc-column data="part.graduation.name" title="persons.documentEducationSearch.graduation">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.documentEducationSearch.bookPageNumber">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.documentEducationSearch.pageCount">
          </sc-column>
          <sc-column sortable="false" title="persons.documentEducationSearch.file">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentEmployment && docPartType.alias === 'employment'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.hiredate" title="persons.employmentSearch.hiredate" type="date">
          </sc-column>
          <sc-column data="part.employmentCategory.name" title="persons.employmentSearch.employmentCategory" type="string">
          </sc-column>
          <sc-column data="part.organization.name" title="persons.employmentSearch.organization" type="string">
          </sc-column>
          <sc-column data="part.country.name" title="persons.employmentSearch.country" type="string">
          </sc-column>
          <sc-column data="part.valid.name" title="persons.employmentSearch.valid">
          </sc-column>
          <sc-column data="part.notes" title="persons.employmentSearch.notes" type="string">
          </sc-column>
          <sc-column data="part.valid.name" title="persons.employmentSearch.valid">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.employmentSearch.bookPageNumber">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.employmentSearch.pageCount">
          </sc-column>
          <sc-column sortable="false" title="persons.employmentSearch.file">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentMed && docPartType.alias === 'medical'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.testimonial" title="persons.medicalSearch.testimonial">
          </sc-column>
          <sc-column data="part.documentDateValidFrom" title="persons.medicalSearch.documentDateValidFrom" type="date">
          </sc-column>
          <sc-column data="part.documentDateValidTo" title="persons.medicalSearch.documentDateValidTo" type="date">
          </sc-column>
          <sc-column data="part.medClassType.name" title="persons.medicalSearch.medClass">
          </sc-column>
          <sc-column data="part.limitations" title="persons.medicalSearch.limitations">
          </sc-column>
          <sc-column data="part.documentPublisher" title="persons.medicalSearch.documentPublisher">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.medicalSearch.bookPageNumber" width="50px">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.medicalSearch.pageCount" width="50px">
          </sc-column>
          <sc-column data="part.notes" title="persons.medicalSearch.notes" visible="false">
          </sc-column>
          <sc-column sortable="false" title="persons.medicalSearch.file" width="30px">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentCheck && docPartType.alias === 'check'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.documentNumber" title="persons.checkSearch.documentNumber">
          </sc-column>
          <sc-column data="part.documentType.name" title="persons.checkSearch.personCheckDocumentType">
          </sc-column>
          <sc-column data="part.documentRole.name" title="persons.checkSearch.personCheckDocumentRole">
          </sc-column>
          <sc-column data="part.documentDateValidFrom" title="persons.checkSearch.documentDateValidFrom" type="date">
          </sc-column>
          <sc-column data="part.documentDateValidTo" title="persons.checkSearch.documentDateValidTo" type="date">
          </sc-column>
          <sc-column data="part.documentPublisher" title="persons.checkSearch.documentPublisher">
          </sc-column>
          <sc-column data="part.ratingType.name || part.sector" title="persons.checkSearch.ratingType">
          </sc-column>
          <sc-column data="part.ratingClass.name" title="persons.checkSearch.ratingClass">
          </sc-column>
          <sc-column data="part.authorization.name" title="persons.checkSearch.authorization">
          </sc-column>
          <sc-column data="part.licenceType.name" title="persons.checkSearch.licenceType">
          </sc-column>
          <sc-column data="part.valid.name" title="persons.checkSearch.valid">
          </sc-column>
          <sc-column data="part.personCheckRatingValue.name" title="persons.checkSearch.ratingValue">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.checkSearch.bookPageNumber">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.checkSearch.pageCount">
          </sc-column>
          <sc-column sortable="false" title="persons.checkSearch.file" width="30px">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentTraining && docPartType.alias === 'training'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.documentNumber" title="persons.documentTrainingSearch.documentNumber">
          </sc-column>
          <sc-column data="part.documentDateValidFrom" title="persons.documentTrainingSearch.documentDateValidFrom" type="date">
          </sc-column>
          <sc-column data="part.documentDateValidTo" title="persons.documentTrainingSearch.documentDateValidTo" type="date">
          </sc-column>
          <sc-column data="part.documentPublisher" title="persons.documentTrainingSearch.documentPublisher">
          </sc-column>
          <sc-column data="part.ratingType.name || part.sector" title="persons.documentTrainingSearch.ratingType">
          </sc-column>
          <sc-column data="part.ratingClass.name" title="persons.documentTrainingSearch.ratingClass">
          </sc-column>
          <sc-column data="part.authorization.name" title="persons.documentTrainingSearch.authorization">
          </sc-column>
          <sc-column data="part.licenceType.name" title="persons.documentTrainingSearch.licenceType">
          </sc-column>
          <sc-column data="part.documentType.name" title="persons.documentTrainingSearch.personOtherDocumentType">
          </sc-column>
          <sc-column data="part.documentRole.name" title="persons.documentTrainingSearch.personOtherDocumentRole">
          </sc-column>
          <sc-column data="part.valid" title="persons.documentTrainingSearch.valid">
            <span>{{item.part.valid.name}}</span>
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.documentTrainingSearch.bookPageNumber">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.documentTrainingSearch.pageCount">
          </sc-column>
          <sc-column sortable="false" title="persons.documentTrainingSearch.file">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentOther && docPartType.alias === 'other'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.documentNumber" title="persons.otherSearch.documentNumber">
          </sc-column>
          <sc-column data="part.documentPersonNumber" title="persons.otherSearch.documentPersonNumber">
          </sc-column>
          <sc-column data="part.documentDateValidFrom" title="persons.otherSearch.documentDateValidFrom" type="date">
          </sc-column>
          <sc-column data="part.documentDateValidTo" title="persons.otherSearch.documentDateValidTo" type="date">
          </sc-column>
          <sc-column data="part.documentPublisher" title="persons.otherSearch.documentPublisher">
          </sc-column>
          <sc-column data="part.documentType.name" title="persons.otherSearch.personOtherDocumentType">
          </sc-column>
          <sc-column data="part.documentRole.name" title="persons.otherSearch.personOtherDocumentRole" width="50px">
          </sc-column>
          <sc-column data="part.notes" title="persons.otherSearch.notes" visible="false">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.otherSearch.bookPageNumber" width="50px">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.otherSearch.pageCount" width="50px">
          </sc-column>
          <sc-column sortable="false" title="persons.otherSearch.file" width="30px">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

      <div ng-if="showDocumentApplication && docPartType.alias === 'application'">
        <sc-datatable ng-model="documentPart" filterable="false" pageable="false" sortable="false" dynamic-columns="false">
          <sc-column sortable="false" class="buttons-cell" width="1px">
            <sc-button name="selectBtn" btn-click="linkPart(item.partId)" l10n-text="applications.edit.linkFile.select" class="btn btn-xs btn-primary"></sc-button>
          </sc-column>
          <sc-column data="part.applicationType.name" title="persons.personDocApplicationSearch.applicationType">
          </sc-column>
          <sc-column data="part.documentNumber" title="persons.personDocApplicationSearch.documentNumber">
          </sc-column>
          <sc-column data="part.requestDate" title="persons.personDocApplicationSearch.requestDate" type="date">
          </sc-column>
          <sc-column data="part.documentDate" title="persons.personDocApplicationSearch.documentDate" type="date">
          </sc-column>
          <sc-column data="part.applicationPaymentType.name" title="persons.personDocApplicationSearch.applicationPaymentType">
          </sc-column>
          <sc-column data="part.taxAmount" title="persons.personDocApplicationSearch.taxAmount">
          </sc-column>
          <sc-column data="part.currency.name" title="persons.personDocApplicationSearch.currency">
          </sc-column>
          <sc-column data="part.notes" title="persons.personDocApplicationSearch.notes">
          </sc-column>
          <sc-column data="files[0].bookPageNumber" title="persons.personDocApplicationSearch.bookPageNumber" width="50px">
          </sc-column>
          <sc-column data="files[0].pageCount" title="persons.personDocApplicationSearch.pageCount" width="50px">
          </sc-column>
          <sc-column sortable="false" title="persons.personDocApplicationSearch.file" width="30px">
            <a target="_self" ng-href="api/file?fileKey={{item.files[0].file.key}}&fileName={{item.files[0].file.name}}" ng-show="item.files" title="{{item.files[0].file.name}}">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </sc-column>
        </sc-datatable>
      </div>

    </div>
  </div>
</div>

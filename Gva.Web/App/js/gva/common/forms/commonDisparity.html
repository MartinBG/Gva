<ng-form  class="form-inline" sc-validate="{}">
  <div class="panel panel-default ">
    <div class="panel-heading" ng-if="form.$name !== 'recomendationDisparitiesFromDescriptionForm'" ><strong l10n-text="common.disparityDirective.disparitiesTitle"></strong></div>
    <div class="panel-heading" ng-if="form.$name === 'recomendationDisparitiesFromDescriptionForm'"><strong l10n-text="common.disparityDirective.disparitiesRecommendationsTitle2"></strong></div>

    <div class="well-sm panel-body">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th l10n-text="common.disparityDirective.auditPart" ng-if="form.$name === 'recomendationDisparitiesFromDescriptionForm'"></th>
            <th l10n-text="common.disparityDirective.sortOrder"></th>
            <th l10n-text="common.disparityDirective.subject"></th>
            <th>
              <div sc-has-error="refNumber"  class="col-sm-1 col-md-1">
                <label class="control-label" l10n-text="common.disparityDirective.refNumber"></label>
                <sc-validation-error field-name="refNumber" validations="{required: null}"></sc-validation-error>
              </div>
            </th>
            <th>
              <div sc-has-error="description">
                <label class="control-label" l10n-text="common.disparityDirective.description"></label>
                <sc-validation-error field-name="description" validations="{required: null}"></sc-validation-error>
              </div>
            </th>
            <th>
              <div sc-has-error="disparityLevel">
                <label class="control-label" l10n-text="common.disparityDirective.disparityLevel"></label>
                <sc-validation-error field-name="disparityLevel" validations="{required: null}"></sc-validation-error>
              </div>
            </th>
            <th l10n-text="common.disparityDirective.removalDate"></th>
            <th l10n-text="common.disparityDirective.rectifyAction"></th>
            <th l10n-text="common.disparityDirective.closureDate"></th>
            <th l10n-text="common.disparityDirective.closureDocument"></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="disparity in model.disparities" class="disparity{{disparity.sortOrder}}">
            <td style="width: 10px;" ng-if="form.$name === 'recomendationDisparitiesFromDescriptionForm'">
              {{disparity.auditPart}}
            </td>
            <td style="width: 10px;">
              <sc-int ng-model="disparity.sortOrder"></sc-int>
            </td>
            <td class="col-sm-4 col-md-3">
              {{disparity.subject.name}}
            </td>
            <td class="col-sm-1 col-md-1">
              <sc-text ng-model="disparity.refNumber" name="refNumber"  ng-required="true"></sc-text>
            </td>
            <td>
              <sc-text ng-model="disparity.description" name="description" ng-required="true"></sc-text>
            </td>
            <td>
              <sc-nomenclature class="col-sm-1 col-md-1" ng-model="disparity.disparityLevel" name="disparityLevel" alias="'disparityLevels'" ng-required="true"></sc-nomenclature>
            </td>
            <td>
              <sc-date ng-model="disparity.removalDate"></sc-date>
            </td>
            <td>
              <sc-text ng-model="disparity.rectifyAction"></sc-text>
            </td>
            <td>
              <sc-date ng-model="disparity.closureDate"></sc-date>
            </td>
            <td>
              <sc-text ng-model="disparity.closureDocument"></sc-text>
            </td>
            <td>
              <sc-button name="deleteDisparityBtn" type="button" btn-click="deleteDisparity(disparity)" class="btn btn-primary btn-sm" icon="glyphicon-remove"></sc-button>
            </td>
          </tr>
          <tr class="sort-disabled" ng-if="!model.disparities.length">
            <td colspan="8" l10n-text="common.disparityDirective.noAvailableDisparities"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</ng-form>
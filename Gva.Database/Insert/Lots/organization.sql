GO
INSERT INTO [LotSets] ([Name], [Alias]) VALUES (N'Организация', N'Organization')

DECLARE @setId INT = @@IDENTITY

--INSERT INTO [LotSchemas] ([SchemaText]) VALUES (N'{' + CHAR(10) + '  "description": "Данни на Организация",' + CHAR(10) + '  "type": "object",' + CHAR(10) + '  "additionalProperties": false,' + CHAR(10) + '  "properties": {' + CHAR(10) + '    "name": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "Наименование",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "name": {' + CHAR(10) + '      "type": "string",' + CHAR(10) + '      "description": "Наименование",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "nameAlt": {' + CHAR(10) + '      "type": "string",' + CHAR(10) + '      "description": "Наим. на поддържащ език",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "code": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "Ид. код",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "uin": {' + CHAR(10) + '      "uin": ["string", "null"],' + CHAR(10) + '      "description": "Булстат",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "CAO": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "CAO",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "ICAO": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "ICAO",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "IATA": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "IATA",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "SITA": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "SITA",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "organizationType": {' + CHAR(10) + '      "$ref": "nomenclature"' + CHAR(10) + '    },' + CHAR(10) + '    "organizationKind": {' + CHAR(10) + '      "$ref": "nomenclature"' + CHAR(10) + '    },' + CHAR(10) + '    "dateCAOFirstIssue": {' + CHAR(10) + '      "$ref": "date-time"' + CHAR(10) + '    },' + CHAR(10) + '    "dateCAOLastIssue": {' + CHAR(10) + '      "$ref": "date-time"' + CHAR(10) + '    },' + CHAR(10) + '    "dateCaoValidTo": {' + CHAR(10) + '      "$ref": "date-time"' + CHAR(10) + '    },' + CHAR(10) + '    "dateValidTo": {' + CHAR(10) + '      "$ref": "date-time"' + CHAR(10) + '    },' + CHAR(10) + '    "phones": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "Телефони",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "webSite": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "Web сайт",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "notes": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "Бележки",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "docRoom": {' + CHAR(10) + '      "type": ["string", "null"],' + CHAR(10) + '      "description": "Документ. е в стая",' + CHAR(10) + '      "required": true' + CHAR(10) + '    },' + CHAR(10) + '    "valid": {' + CHAR(10) + '      "$ref": "nomenclature"' + CHAR(10) + '    },' + CHAR(10) + '    "caseTypes": {' + CHAR(10) + '      "type": "array",' + CHAR(10) + '      "description": "Типове дела",' + CHAR(10) + '      "required": true' + CHAR(10) + '    }' + CHAR(10) + '  }' + CHAR(10) + '}')
--DECLARE @organizationDataSchemaId INT = @@IDENTITY
DECLARE @organizationDataSchemaId INT = NULL

INSERT INTO [LotSetParts]
    ([LotSetId], [Name]                                                                                  , [Alias]                                                      , [PathRegex]                                              , [LotSchemaId]            )
VALUES
    (@setId    , 'Адрес'                                                                                 , 'organizationAddress'                                        , N'^organizationAddresses/\d+$'                           , NULL                     ),
    (@setId    , 'План за одит'                                                                          , 'organizationAuditplan'                                      , N'^organizationAuditplans/\d+$'                          , NULL                     ),
    (@setId    , 'Лиценз на летищен оператор'                                                            , 'organizationCertAirportOperator'                            , N'^organizationCertAirportOperators/\d+$'                , NULL                     ),
    (@setId    , 'Лиценз на оператор по наземно обслужване или самообслужване'                           , 'organizationCertGroundServiceOperator'                      , N'^organizationCertGroundServiceOperators/\d+$'          , NULL                     ),
    (@setId    , 'Удостоверение за експлоатационна годност на системи и съоръжения за наземно обслужване', 'organizationOrganizationGroundServiceOperatorSnoOperational', N'^organizationGroundServiceOperatorsSnoOperational/\d+$', NULL                     ),
    (@setId    , 'Свидетелство за авиационен оператор'                                                   , 'organizationCertAirOperator'                                , N'^organizationCertAirOperators/\d+$'                    , NULL                     ),
    (@setId    , 'Свидетелство за извършване на аеронавигационно обслужване.'                            , 'organizationCertAirNavigationServiceDeliverer'              , N'^organizationCertAirNavigationServiceDeliverers/\d+$'  , NULL                     ),
    (@setId    , 'Оперативен лиценз на въздушен превозвач.'                                              , 'organizationCertAirCarrier'                                 , N'^organizationCertAirCarriers/\d+$'                     , NULL                     ),
    (@setId    , 'Одит'                                                                                  , 'organizationInspection'                                     , N'^organizationInspections/\d+$'                         , NULL                     ),
    (@setId    , 'Удостоверение за одобрение'                                                            , 'organizationApproval'                                       , N'^organizationApprovals/\d+$'                           , NULL                     ),
    (@setId    , 'Изменение на достоверение за одобрение'                                                , 'organizationAmendment'                                      , N'^organizationApprovals/\d+/amendments/\d+$'            , NULL                     ),
    (@setId    , 'Проверяващи'                                                                           , 'organizationStaffExaminer'                                  , N'^organizationStaffExaminers/\d+$'                      , NULL                     ),
    (@setId    , 'Доклад от препоръки'                                                                   , 'organizationRecommendation'                                 , N'^organizationRecommendations/\d+$'                     , NULL                     ),
    (@setId    , 'Друг документ'                                                                         , 'organizationOther'                                          , N'^organizationDocumentOthers/\d+$'                      , NULL                     ),
    (@setId    , 'Ръководен персонал'                                                                    , 'organizationStaffManagement'                                , N'^organizationStaffManagement/\d+$'                     , NULL                     ),
    (@setId    , 'Данни за организация'                                                                  , 'organizationData'                                           , N'^organizationData$'                                    , @organizationDataSchemaId),
    (@setId    , 'Заявление'                                                                             , 'organizationApplication'                                    , N'^organizationDocumentApplications/\d+$'                , NULL                     )
GO

<ng-form  class="form-inline" sc-validate="{}">

  <div class="row">
    <div class="form-group col-sm-3 col-md-2">
      <label class="control-label" l10n-text="common.inspectionDirective.setPart"></label>
      <sc-text ng-model="model.part.setPart" class="input-sm" ng-readonly="true"/>
    </div>
    <div class="form-group col-sm-3 col-md-2" ng-if="setPart === 'organization'">
      <label class="control-label" l10n-text="common.inspectionDirective.auditCaseType"></label>
      <input type="hidden" ng-model="model.part.auditCaseTypes" class="form-control input-sm select2input" ng-readonly="readonly" ui-select2="caseTypesOptions"/>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-3 col-md-2">
      <label class="control-label" l10n-text="common.inspectionDirective.documentNumber"></label>
      <sc-text ng-model="model.part.documentNumber" name="documentNumber" ng-readonly="readonly"></sc-text>
    </div>
    <div class="form-group col-sm-3 col-md-2" ng-if="setPart === 'organization'">
      <label class="control-label" l10n-text="common.inspectionDirective.auditPart"></label>
      <sc-nomenclature ng-model="model.part.auditPart" name="auditPart" alias="'auditParts'" ng-readonly="readonly || model.part.auditDetails.length > 0"></sc-nomenclature>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-2  col-md-2" sc-has-error="auditReason">
      <label class="control-label" l10n-text="common.inspectionDirective.auditReason"></label>
      <sc-validation-error field-name="auditReason" validations="{required: 'default'}"></sc-validation-error>
      <sc-nomenclature ng-model="model.part.auditReason" name="auditReason" alias="'auditReasons'" ng-required="true" ng-readonly="readonly"></sc-nomenclature>
    </div>
    <div class="form-group col-sm-2 col-md-2" sc-has-error="auditType">
      <label class="control-label" l10n-text="common.inspectionDirective.auditType"></label>
      <sc-validation-error field-name="auditType" validations="{required: 'default'}"></sc-validation-error>
      <sc-nomenclature ng-model="model.part.auditType" name="auditType" alias="'auditTypes'" ng-required="true" ng-readonly="readonly"></sc-nomenclature>
    </div>
    <div class="form-group col-sm-2 col-md-2" sc-has-error="auditState">
      <label class="control-label" l10n-text="common.inspectionDirective.auditState"></label>
      <sc-validation-error field-name="auditState" validations="{required: 'default'}"></sc-validation-error>
      <sc-nomenclature ng-model="model.part.auditState" name="auditState" alias="'auditStatuses'" ng-required="true" ng-readonly="readonly"></sc-nomenclature>
    </div>
    <div class="form-group col-sm-4 col-md-3" sc-has-error="notification">
        <label class="control-label" l10n-text="common.inspectionDirective.notification"></label>
        <sc-validation-error field-name="notification" validations="{required: 'default'}"></sc-validation-error>
      <div class="col-sm-5 col-md-7" style="padding:0px">
        <sc-nomenclature ng-model="model.part.notification" name="notification" alias="'boolean'" ng-required="true" ng-readonly="readonly"></sc-nomenclature>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-6 col-md-6" sc-has-error="subject">
      <label class="control-label" l10n-text="common.inspectionDirective.subject"></label>
      <sc-validation-error field-name="subject" validations="{required: 'default'}"></sc-validation-error>
      <sc-textarea rows="3" cols="50" ng-model="model.part.subject" name="subject" ng-required="true" ng-readonly="readonly"></sc-textarea>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-6 col-md-6">
      <label class="control-label" l10n-text="common.inspectionDirective.applications"></label>
      <gva-applications ng-model="model.applications" set-part="setPart" ng-readonly="readonly"></gva-applications>
    </div>
  </div>

  <div class="row">
    <div class="form-group col-sm-6 col-md-4" sc-has-error="inspectionPlace">
      <label class="control-label" l10n-text="common.inspectionDirective.inspectionPlace"></label>
      <sc-validation-error field-name="inspectionPlace" validations="{required: 'default'}"></sc-validation-error>
      <sc-text ng-model="model.part.inspectionPlace" name="inspectionPlace" ng-required="true" ng-readonly="readonly"></sc-text>
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-3 col-md-2" sc-has-error="startDate">
      <label class="control-label" l10n-text="common.inspectionDirective.startDate"></label>
      <sc-validation-error field-name="startDate" validations="{required: 'default'}"></sc-validation-error>
      <sc-date ng-model="model.part.startDate" name="startDate" ng-required="true" ng-readonly="readonly"></sc-date>
    </div>
    <div class="form-group col-sm-3 col-md-2">
      <label class="control-label" l10n-text="common.inspectionDirective.endDate"></label>
      <sc-date ng-model="model.part.endDate" ng-readonly="readonly"></sc-date>
    </div>
  </div>

  <h5 class="form-header" l10n-text="common.inspectionDirective.inspectionPeriod" ng-if="setPart === 'aircraft'"></h5>
  <div  ng-if="setPart === 'aircraft'">
    <div class="row">
      <div class="form-group col-sm-3 col-md-2">
        <label class="control-label" l10n-text="common.inspectionDirective.inspectionFrom"></label>
        <sc-date ng-model="model.part.inspectionFrom" ng-readonly="readonly"></sc-date>
      </div>
      <div class="form-group col-sm-3 col-md-2">
        <label class="control-label" l10n-text="common.inspectionDirective.inspectionTo"></label>
        <sc-date ng-model="model.part.inspectionTo" ng-readonly="readonly"></sc-date>
      </div>
    </div>
  </div>

  <h5 class="table-header" l10n-text="common.inspectionDirective.recommendationReports" ng-if="setPart === 'organization'"></h5>
  <sc-datatable items="model.part.recommendationReports" filterable="false" pageable="false" sortable="false" dynamic-columns="false" ng-if="setPart === 'organization'">
    <sc-column sortable="false" class="buttons-cell" width="1px" has-content="true">
      <sc-button btn-click="viewRecommendation(item)" class="btn btn-xs btn-primary" icon="glyphicon-pencil" ng-disabled="readonly"></sc-button>
    </sc-column>
    <sc-column data="recommendationPartName" title="common.inspectionDirective.recommendationPart">
    </sc-column>
    <sc-column data="formDate" title="common.inspectionDirective.formDate" type="date">
    </sc-column>
    <sc-column data="formText" title="common.inspectionDirective.formText">
    </sc-column>
  </sc-datatable>

  <h5 class="table-header" l10n-text="common.auditDetailDirective.title"></h5>
  <gva-common-audit-detail name="auditDetailsForm" ng-model="model.part" readonly="readonly" sc-data-set-part="setPart"></gva-common-audit-detail>

  <h5 class="table-header" l10n-text="common.inspectionDirective.disparitiesTitle"></h5>
  <gva-common-disparity name="disparitiesForm" ng-model="model.part" readonly="readonly"></gva-common-disparity>

  <h5 class="table-header" l10n-text="common.inspectionDirective.examinersTable.examinersTitle"></h5>
  <table class="table table-striped table-bordered ctrl-table">
    <thead>
      <tr>
        <th l10n-text="common.inspectionDirective.examinersTable.sortOrder"></th>
        <th ng-class="{'has-error': model.part.examiners.length === 0}">
          <div sc-has-error="examiner" >
            <label class="control-label" l10n-text="common.inspectionDirective.examinersTable.examiner"></label>
            <sc-validation-error field-name="examiner" validations="{required: 'default'}"></sc-validation-error>
          </div>
        </th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat-start="examiner in model.part.examiners">
        <td class="col-sm-1 col-md-1 ctrl-cell">
          <sc-int ng-model="examiner.sortOrder" ng-readonly="readonly"></sc-int>
        </td>
        <td class="ctrl-cell">
          <sc-nomenclature ng-model="examiner.examiner" name="examiner" alias="'examiners'" ng-readonly="readonly"></sc-nomenclature>
        </td>
        <td style="text-align: right; width: 1px;">
          <sc-button name="deleteExaminerBtn" type="button" class="btn btn-primary btn-xs" btn-click="deleteExaminer(examiner)" icon="glyphicon-remove" ng-disabled="readonly"></sc-button>
        </td>
      </tr>
      <tr ng-repeat-end></tr>
      <tr class="sort-disabled" ng-if="!model.part.examiners.length">
        <td colspan="8" class="text-center" l10n-text="common.inspectionDirective.examinersTable.noAvailableExaminers"></td>
      </tr>
      <tr>
        <td colspan="4" style="text-align: right; width: 1px;">
          <sc-button name="addExaminerBtn" type="button" btn-click="addExaminer()" class="btn btn-primary btn-xs" icon="glyphicon-plus" ng-disabled="readonly"></sc-button>
        </td>
      </tr>
    </tbody>
  </table>

</ng-form>
